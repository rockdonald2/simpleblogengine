{% extends "base.html" %}

{% block content %}
<header class="header">
    <a href="/home"
        rel="noopener noreferrer"
        class="link header--link">Home</a>
    <h1 class="header--heading">{{ title }} </h1>
</header>
<section class="edit">
    <form
        method="POST">
        <label for="title">
            What is the title of your post?
        </label>
        <input type="text"
            name="title"
            id="title"
            placeholder='Be short.' value="{{ post.title }}">
        <label for="post">
            You should write your post in Markdown or plain text.
        </label>
        <textarea name="post"
            id="post"
            wrap="on"
            placeholder="Remember, be nice!">{{ post.text }}</textarea>
        <input type="submit"
            value="Publish your post" formaction="/edit/{{ id }}">
        <input type="submit"
            value="Delete this post" formaction="/delete/{{ id }}"></input>
    </form>
</section>
<script type="text/javascript">
    window.addEventListener('keydown', function (e) {
        if (e.keyIdentifier == 'U+000A' || e.keyIdentifier == 'Enter' || e.keyCode == 13) {
            if (e.target.nodeName == 'INPUT' && e.target.type == 'text') {
                e.preventDefault();
                return false;
            }
        }
    }, true);
</script>
{% endblock %}